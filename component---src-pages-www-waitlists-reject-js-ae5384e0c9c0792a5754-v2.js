"use strict";(self.webpackChunkexodus_website=self.webpackChunkexodus_website||[]).push([[4387],{75505:function(e,t,a){a.r(t),a.d(t,{Head:function(){return p}});var s=a(96540),n=a(32485),r=a.n(n),i=a(46149),c=a(80798),l=a(54926),m=a(18105);const o="waitlists-reject",u=()=>s.createElement(s.Fragment,null,s.createElement("div",{className:"x-page-newsletter__background"}),s.createElement("div",{className:"x-page-newsletter__background-x-container"},s.createElement("img",{src:"img/header-x-long.svg"}))),d=e=>{let{page:t,formState:a}=e;return s.createElement("div",{className:"x__headings-container--animating"},s.createElement("div",{className:"x__heading"},s.createElement(l.A,{page:t,section:a})))},g=e=>{let{page:t,formState:a}=e;return s.createElement("div",{className:"x__headings-container--submitting"},s.createElement("div",{className:"x__heading"},s.createElement(l.A,{page:t,section:a})),s.createElement("div",{className:"x__subheading"},s.createElement(l.A,{type:"h2",page:t,section:a})))},_=e=>{let{location:t}=e;const{0:a,1:n}=(0,s.useState)(!1),{0:c,1:l}=(0,s.useState)("initializing"),_="loading"===c,p="success"===c||"invalid"===c||"error"===c,{0:E,1:f}=(0,s.useState)(!1);(0,s.useEffect)((()=>setTimeout(f(!0),1)),[]);const h=e=>{l(e),setTimeout((()=>n(!0)),100)};return(0,s.useEffect)((()=>{const e=t.search&&new URL(t.href).searchParams.get("userId"),a=t.search&&new URL(t.href).searchParams.get("waitlistId");e&&a||h("error"),e?(e=>{let{userId:t,waitlistId:a}=e;_||(l("loading"),fetch("".concat(m.Ex,"/users/waitlists-cancel-subscription"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,waitlistId:a})}).then((async e=>{const t=200===e.status,a=400===e.status;h(t?"success":a?"invalid":"error")})).catch((e=>{console.log(e),h("error")})))})({userId:e,waitlistId:a}):setTimeout((()=>h("error")),2e3)}),[]),s.createElement("div",{className:r()("x-page-newsletter",{"x-page-newsletter--animating":E})},s.createElement(u,null),s.createElement("div",{className:"x-page-newsletter__content"},s.createElement(i.H2,{animate:E}),s.createElement("div",{className:r()("x__unsubscribe-form",{"x__unsubscribe-form--animating":E&&!a,"x__unsubscribe-form--submitting":a})},p?s.createElement(g,{page:o,formState:c}):s.createElement(d,{page:o,formState:c}))))};function p(){return s.createElement(c.A,{page:"waitlists-reject",noindex:!0})}_.defaultProps={},t.default=_}}]);
//# sourceMappingURL=component---src-pages-www-waitlists-reject-js-ae5384e0c9c0792a5754-v2.js.map